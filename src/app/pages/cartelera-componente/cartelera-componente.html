<div class="content-header row">
  <div class="content-header-left col-md-12 col-12 mb-2">
    <div class="d-flex align-items-center">
      <h2 class="content-header-title float-start mb-0">üé¨ Cartelera</h2>
    </div>
    <small class="text-muted">Explora las pel√≠culas en cartelera</small>
  </div>
</div>

<div class="content-body">
  <!-- Loader -->
  <div *ngIf="cargando()" class="card">
    <div class="card-body d-flex align-items-center">
      <div class="spinner-border text-primary me-1" role="status"></div>
      <span class="fw-bold">Cargando pel√≠culas...</span>
    </div>
  </div>

  <!-- Error -->
  <div *ngIf="error()" class="alert alert-danger alert-dismissible fade show" role="alert">
    <i class="bi bi-exclamation-triangle me-50"></i>
    {{ error() }}
  </div>

  <!-- No data -->
  <div *ngIf="!cargando() && !error() && peliculas().length === 0" class="card">
    <div class="card-body text-center">
      <i class="bi bi-film fs-1 text-muted d-block mb-1"></i>
      <p class="mb-0 text-muted">No hay pel√≠culas para mostrar.</p>
    </div>
  </div>

  <!-- Movies grid -->
  <div *ngIf="peliculas().length > 0" class="row match-height">
    <div class="col-xl-3 col-lg-4 col-md-6 col-sm-12" *ngFor="let p of peliculas()">
      <div class="card shadow-sm border-light">
        <img class="img-fluid card-img-top" [src]="posterDe(p)" [alt]="p.titulo || 'Poster'">
        <div class="card-body">
          <h4 class="card-title fw-bolder text-primary">{{ p.titulo }}</h4>
          <div class="d-flex align-items-center flex-wrap mb-75">
            <span class="badge rounded-pill badge-light-primary me-50" *ngIf="p.tipo">
              {{ p.tipo }}
            </span>
          </div>
          <p class="card-text text-truncate-3 text-muted">
            {{ p.descripcion || 'Sin descripci√≥n disponible.' }}
          </p>
          <div class="d-flex justify-content-between align-items-center mt-1">
            <small class="text-muted" *ngIf="p.year">
              <i class="bi bi-calendar-event me-25"></i> Estreno: {{ p.year | date:'mediumDate' }}
            </small>
            <a class="btn btn-sm btn-relief-primary waves-effect" (click)="verDetalles(p)">
              <i class="bi bi-info-circle me-25"></i> Ver detalles
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
